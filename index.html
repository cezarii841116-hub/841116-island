<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE ISLAND | NODE 841116</title>
    <style>
        /* ОСНОВЕН ДИЗАЙН - FACEBOOK STYLE */
        body { background-color: #18191a; color: #e4e6eb; font-family: 'Segoe UI', Helvetica, Arial, sans-serif; margin: 0; padding: 0; }
        
        /* ГОРНА ЛЕНТА */
        .header { background-color: #242526; height: 56px; border-bottom: 1px solid #3e4042; display: flex; align-items: center; justify-content: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        .header-title { color: #00ff41; font-weight: bold; font-size: 18px; letter-spacing: 2px; text-transform: uppercase; }

        /* КОРИЦА - THE ISLAND ACTIVE */
        .cover-wrapper { width: 100%; max-width: 940px; margin: 0 auto; background: #242526; border-bottom-left-radius: 8px; border-bottom-right-radius: 8px; overflow: hidden; border-bottom: 3px solid #00ff41; }
        .cover-photo { width: 100%; height: auto; display: block; filter: contrast(1.1); }

        /* СИСТЕМЕН СТАТУС */
        .system-bar { max-width: 940px; margin: 10px auto; padding: 10px; font-family: monospace; font-size: 12px; color: #00ff41; text-align: center; background: rgba(0,255,65,0.05); border: 1px solid #333; border-radius: 5px; }

        /* ФИЙД ЗОНА */
        .feed-container { max-width: 500px; margin: 20px auto; padding: 0 10px; }

        /* СЕКЦИЯ ЗА ПУБЛИКУВАНЕ */
        .create-post { background: #242526; border-radius: 8px; padding: 12px; margin-bottom: 16px; border: 1px solid #3e4042; }
        .upload-trigger { background-color: #3a3b3c; border: none; color: #b0b3b8; padding: 10px 16px; width: 100%; border-radius: 20px; cursor: pointer; text-align: left; font-size: 15px; transition: 0.2s; }
        .upload-trigger:hover { background-color: #4e4f50; }

        /* ПОСТОВЕ */
        .post-card { background: #242526; border-radius: 8px; border: 1px solid #3e4042; margin-bottom: 16px; overflow: hidden; box-shadow: 0 1px 2px rgba(0,0,0,0.2); }
        .post-info { padding: 12px; display: flex; align-items: center; border-bottom: 1px solid #333; }
        .avatar { width: 40px; height: 40px; background: #00ff41; border-radius: 50%; margin-right: 12px; display: flex; align-items: center; justify-content: center; color: #000; font-weight: bold; font-size: 12px; }
        .post-img { width: 100%; height: auto; display: block; border-top: 1px solid #333; }
        .post-footer { padding: 10px; font-size: 12px; color: #b0b3b8; border-top: 1px solid #333; }
    </style>
    <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
</head>
<body>

    <div class="header">
        <div class="header-title">NODE: 841116</div>
    </div>

    <div class="cover-wrapper">
        <img src="https://res.cloudinary.com/dxzdp3e8q/image/upload/v1735654157/mptf0un09u9uym2yveof.jpg" class="cover-photo" alt="THE ISLAND ACTIVE">
    </div>

    <div class="system-bar">
        [ STATUS: ONLINE ] | [ ACCESS: BLOCKCHAIN VERIFIED ] | [ MODE: ACTIVE ]
    </div>

    <div class="feed-container">
        <div class="create-post">
            <button class="upload-trigger" id="upload-button">Сподели изкуство на Острова...</button>
        </div>

        <div id="posts-container"></div>
    </div>

    <script>
        const uploadBtn = document.getElementById('upload-button');
        const postsContainer = document.getElementById('posts-container');
        
        // Зареждане на записаните постове
        window.onload = () => {
            const savedPosts = JSON.parse(localStorage.getItem('island_posts')) || [];
            savedPosts.forEach(url => renderPost(url));
        };

        // Cloudinary Настройки
        const myWidget = cloudinary.createUploadWidget({
            cloudName: 'dxzdp3e8q', 
            uploadPreset: 'island_preset'
        }, (error, result) => {
            if (!error && result && result.event === "success") { 
                const imageUrl = result.info.secure_url;
                savePost(imageUrl);
                renderPost(imageUrl);
            }
        });

        uploadBtn.addEventListener('click', () => { myWidget.open(); }, false);

        function savePost(url) {
            const savedPosts = JSON.parse(localStorage.getItem('island_posts')) || [];
            savedPosts.unshift(url);
            localStorage.setItem('island_posts', JSON.stringify(savedPosts));
        }

        function renderPost(imageUrl) {
            const date = new Date().toLocaleDateString('bg-BG');
            const postHtml = `
                <div class="post-card">
                    <div class="post-info">
                        <div class="avatar">84</div>
                        <div>
                            <div style="font-weight:600">Island Member</div>
                            <div style="font-size:12px; color:#b0b3b8">${date} • <span style="color:#00ff41">Verified Access</span></div>
                        </div>
                    </div>
                    <img src="${imageUrl}" class="post-img">
                    <div class="post-footer">
                        Blockchain Data Node: 841116-ARCHIVE
                    </div>
                </div>`;
            postsContainer.insertAdjacentHTML('afterbegin', postHtml);
        }
    </script>
</body>
</html>
